#### TCP连接与建立，状态转换图

#### TCP三次握手可以改成两次吗?

不可以，第三次为了防止已失效的连接请求报文段突然传到服务器端，浪费服务器资源。

#### TIME_WAIT状态作用？

保证可靠地实现TCP全双工连接终止

允许老的重复分节在网络中消逝

#### 使用SO_REUSEADDR套接字选项避免地址使用错误

应用了该套接字选项后，bind API函数将允许地址立即重用

#### TCP输出

当调用write时，内核从应用进程的缓冲区中复制所有数据到所写套接字的发送缓冲区，如果该缓冲区容不下，那么write阻塞。直到能容下，write返回。

注:write返回仅表示应用缓冲区数据复制到了套接字发送缓冲区，不代表对端已收到(SO_LINGER)

#### UDP输出

write调用成功时，表示所写的数据报或其所有片段已被加入数据链路层的输出队列。如该队列没有足够空间存放，内核通常返回ENOBUFS错误给它的应用进程



































